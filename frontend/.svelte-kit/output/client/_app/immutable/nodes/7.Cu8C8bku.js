import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{h as Oe,a as Ge,aI as He,aJ as Je,at as Xe,b as Be,c as Qe,n as et,p as tt,o as st,l as it,U as rt,A as nt,Z as Ve,aK as ot,aL as U,aM as Ue,$ as h,a1 as C,aN as ee,a2 as y,a3 as Ye,X as q,d as e,v as A,aO as at,a4 as j,a7 as n,a8 as r,a6 as v,aa as z,u as l,ad as Ke,aH as Te,_ as _t,a0 as ct,a5 as lt,aP as dt,ac as pt,f as de}from"../chunks/DhAImXhw.js";import{i as V}from"../chunks/DCA2aStm.js";import{e as _e,i as ce}from"../chunks/DjIM3LOd.js";import{b as Fe}from"../chunks/BJia4XKL.js";import{i as Ze}from"../chunks/CiPvQyKl.js";import{s as ut}from"../chunks/C4gbxieY.js";import{t as vt,s as ke}from"../chunks/DIZdboBT.js";import{c as Ne,E as mt,D as ft,d as gt}from"../chunks/CeJ_7Afs.js";import{p as We}from"../chunks/BcHKa6QZ.js";function xt(I,t,s){Oe&&Ge();var a=I,b=rt,w,D,c=null,i=He()?Je:Xe;function _(){w&&nt(w),c!==null&&(c.lastChild.remove(),a.before(c),c=null),w=D}Be(()=>{if(i(b,b=t())){var Y=a,T=st();T&&(c=document.createDocumentFragment(),c.append(Y=Qe())),D=et(()=>s(Y)),T?tt.add_callback(_):_()}}),Oe&&(a=it)}function yt(I,t,s,a){var b=I.__style;if(Oe||b!==t){var w=vt(t);(!Oe||w!==I.getAttribute("style"))&&(w==null?I.removeAttribute("style"):I.style.cssText=w),I.__style=t}return a}var ht=h('<button class="flex items-center space-x-2 text-sm text-secondary-600 dark:text-secondary-400"><span> </span> <span class="hidden sm:block"> </span></button>'),bt=h("<div></div>"),wt=h('<button class="flex items-center space-x-2 text-sm text-secondary-600 dark:text-secondary-400"><span> </span> <span class="hidden sm:block"> </span></button>'),kt=h("<div></div>"),$t=h('<div class="flex items-center justify-between"><!> <div class="flex flex-col items-center space-y-1"><div> </div> <span class="text-sm font-medium text-secondary-900 dark:text-secondary-100 text-center"> </span></div> <!></div>'),St=h("<div></div>"),zt=h('<div class="flex items-center"><button><!></button> <!></div>'),qt=h('<div class="text-xs text-secondary-600 dark:text-secondary-400 mt-1"> </div>'),Ct=h('<div class="flex-1 text-center"><div class="text-xs sm:text-sm font-medium text-secondary-900 dark:text-secondary-100"> </div> <!></div>'),Wt=h('<div class="flex items-center justify-between"></div> <div class="flex justify-between mt-2"></div>',1),Ot=h('<button class="btn btn-secondary">Finish</button>'),Et=h('<button class="btn btn-secondary">Next</button>'),Pt=h('<div class="wizard-stepper w-full max-w-4xl mx-auto px-2 sm:px-0 svelte-1a0vlox"><div class="wizard-progress-section mb-6 sm:mb-8"><div class="progress-bar-container mb-4"><div class="flex justify-between items-center mb-2"><span class="text-sm font-medium text-secondary-700 dark:text-secondary-300"> </span> <span class="text-sm font-medium text-secondary-700 dark:text-secondary-300"> </span></div> <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden"><div class="bg-secondary-600 dark:bg-secondary-500 h-2 rounded-full transition-all duration-300 ease-in-out"></div></div></div> <div class="step-indicators"><!></div></div> <div class="wizard-content-area svelte-1a0vlox"><!></div> <div class="wizard-navigation flex flex-col sm:flex-row justify-between items-center gap-4 mt-6 sm:mt-8 pt-6 border-t border-gray-200 dark:border-gray-700"><div class="flex gap-2 order-2 sm:order-1"><button class="btn btn-outline">Cancel</button></div> <div class="flex gap-2 order-1 sm:order-2"><button class="btn btn-outline">Previous</button> <!></div></div></div>');function jt(I,t){Ve(t,!1);const s=A(),a=A(),b=A(),w=A(),D=A();let c=We(t,"steps",8),i=We(t,"current_step_index",12,0),_=We(t,"is_mobile_view",8,!0),Y=We(t,"allow_skip_steps",8,!1);const T=ot();function $e(o,p){return p<0||p>=o.length?null:o[p]}function Ee(o,p){return p===0?0:Math.round((o+1)/p*100)}function B(o){return o>0}function Pe(o,p){if(o>=p.length-1)return!1;const k=p[o];return k?k.is_completed||Y()&&k.is_optional:!1}function je(o,p){return o===p-1}function pe(o){if(o<0||o>=c().length||o===i())return;const p=i();i(o);const k=c()[o];T("step_changed",{previous_index:p,new_index:o,step:k})}function Se(){e(b)&&pe(i()-1)}function ze(){e(w)&&pe(i()+1)}function qe(){e(s)&&(at(s,e(s).is_completed=!0),T("step_completed",{step_index:i(),step:e(s)}),Ae(c())&&T("wizard_completed",{completed_steps:c()}))}function Ae(o){return o.every(p=>p.is_completed||p.is_optional)}function De(){T("wizard_cancelled")}function le(o,p){return p===i()?"bg-secondary-600 text-white dark:bg-secondary-500":o.is_completed?"bg-secondary-100 text-secondary-800 dark:bg-secondary-800 dark:text-secondary-100":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}function ue(o){var k;return o<=i()||((k=c()[o])==null?void 0:k.is_completed)?"bg-secondary-600 dark:bg-secondary-500":"bg-gray-200 dark:bg-gray-600"}function ve(){qe()}function me(){const o=c().filter(p=>p.is_completed).length;return{current_step:i()+1,total_steps:c().length,progress:e(a),completed_steps:o}}U(()=>(q(c()),q(i())),()=>{j(s,$e(c(),i()))}),U(()=>(q(i()),q(c())),()=>{j(a,Ee(i(),c().length))}),U(()=>q(i()),()=>{j(b,B(i()))}),U(()=>(q(i()),q(c())),()=>{j(w,Pe(i(),c()))}),U(()=>(q(i()),q(c())),()=>{j(D,je(i(),c().length))}),Ue(),Ze();var fe=Pt(),ge=n(fe),d=n(ge),g=n(d),W=n(g),te=n(W);r(W);var Ce=v(W,2),Ie=n(Ce);r(Ce),r(g);var Z=v(g,2),G=n(Z);r(Z),r(d);var H=v(d,2),J=n(H);{var se=o=>{var p=$t(),k=n(p);{var ne=S=>{var m=ht(),P=n(m),he=n(P,!0);r(P);var be=v(P,2),Me=n(be,!0);r(be),r(m),C(Le=>{ke(P,1,`w-6 h-6 rounded-full ${Le??""} flex items-center justify-center text-xs`,"svelte-1a0vlox"),z(he,i()),z(Me,(q(c()),q(i()),l(()=>{var we;return(we=c()[i()-1])==null?void 0:we.step_title})))},[()=>(q(c()),q(i()),l(()=>le(c()[i()-1],i()-1)))]),ee("click",m,Se),y(S,m)},oe=S=>{var m=bt();y(S,m)};V(k,S=>{e(b)?S(ne):S(oe,!1)})}var f=v(k,2),u=n(f),x=n(u,!0);r(u);var $=v(u,2),O=n($,!0);r($),r(f);var ae=v(f,2);{var F=S=>{var m=wt(),P=n(m),he=n(P,!0);r(P);var be=v(P,2),Me=n(be,!0);r(be),r(m),C(Le=>{ke(P,1,`w-6 h-6 rounded-full ${Le??""} flex items-center justify-center text-xs`,"svelte-1a0vlox"),z(he,i()+2),z(Me,(q(c()),q(i()),l(()=>{var we;return(we=c()[i()+1])==null?void 0:we.step_title})))},[()=>(q(c()),q(i()),l(()=>le(c()[i()+1],i()+1)))]),ee("click",m,ze),y(S,m)},N=S=>{var m=kt();y(S,m)};V(ae,S=>{e(w)?S(F):S(N,!1)})}r(p),C(S=>{ke(u,1,`w-8 h-8 rounded-full ${S??""} flex items-center justify-center font-semibold`,"svelte-1a0vlox"),z(x,i()+1),z(O,(e(s),l(()=>{var m;return(m=e(s))==null?void 0:m.step_title})))},[()=>(e(s),q(i()),l(()=>le(e(s),i())))]),y(o,p)},xe=o=>{var p=Wt(),k=Ke(p);_e(k,5,c,ce,(oe,f,u)=>{var x=zt(),$=n(x),O=n($);{var ae=m=>{var P=Te("✓");y(m,P)},F=m=>{var P=Te();P.nodeValue=u+1,y(m,P)};V(O,m=>{e(f),l(()=>e(f).is_completed)?m(ae):m(F,!1)})}r($);var N=v($,2);{var S=m=>{var P=St();C(he=>ke(P,1,`step-connector flex-1 h-0.5 mx-2 ${he??""}`,"svelte-1a0vlox"),[()=>l(()=>ue(u))]),y(m,P)};V(N,m=>{q(c()),l(()=>u<c().length-1)&&m(S)})}r(x),C(m=>{ke($,1,`step-circle w-8 h-8 rounded-full ${m??""} flex items-center justify-center font-semibold text-sm transition-colors duration-200 hover:opacity-80`,"svelte-1a0vlox"),$.disabled=!Y()&&u>i()},[()=>(e(f),l(()=>le(e(f),u)))]),ee("click",$,()=>pe(u)),y(oe,x)}),r(k);var ne=v(k,2);_e(ne,5,c,ce,(oe,f)=>{var u=Ct(),x=n(u),$=n(x,!0);r(x);var O=v(x,2);{var ae=F=>{var N=qt(),S=n(N,!0);r(N),C(()=>z(S,(e(f),l(()=>e(f).step_description)))),y(F,N)};V(O,F=>{e(f),l(()=>e(f).step_description)&&F(ae)})}r(u),C(()=>z($,(e(f),l(()=>e(f).step_title)))),y(oe,u)}),r(ne),y(o,p)};V(J,o=>{_()?o(se):o(xe,!1)})}r(H),r(ge);var X=v(ge,2),ye=n(X);ut(ye,t,"default",{get current_step(){return e(s)},get step_index(){return i()},get can_go_previous(){return e(b)},get can_go_next(){return e(w)},get is_final(){return e(D)}}),r(X);var M=v(X,2),E=n(M),L=n(E);r(E);var R=v(E,2),K=n(R),ie=v(K,2);{var Q=o=>{var p=Ot();C(()=>p.disabled=(e(s),l(()=>{var k;return!((k=e(s))!=null&&k.is_completed)}))),ee("click",p,qe),y(o,p)},re=o=>{var p=Et();C(()=>p.disabled=!e(w)),ee("click",p,ze),y(o,p)};V(ie,o=>{e(D)?o(Q):o(re,!1)})}return r(R),r(M),r(fe),C(()=>{z(te,`Step ${i()+1} of ${q(c()),l(()=>c().length)??""}`),z(Ie,`${e(a)??""}% Complete`),yt(G,`width: ${e(a)??""}%`),K.disabled=!e(b)}),ee("click",L,De),ee("click",K,Se),y(I,fe),Ne(t,"complete_current_step",ve),Ne(t,"get_wizard_status",me),Ye({complete_current_step:ve,get_wizard_status:me})}const Re=[{step_id:"select_organization",step_name:"Select Organization",step_description:"Choose the organization for your sports management setup",entity_type:"organization",required_selection_count:1,min_selection_count:1,max_selection_count:1,is_optional:!1,next_step_id:"select_competition",error_message_template:"Please select exactly 1 organization to continue"},{step_id:"select_competition",step_name:"Select Competition",step_description:"Choose the competition within the selected organization",entity_type:"competition",required_selection_count:1,min_selection_count:1,max_selection_count:1,is_optional:!1,next_step_id:"select_teams",error_message_template:"Please select exactly 1 competition to continue"},{step_id:"select_teams",step_name:"Select Teams",step_description:"Choose the teams that will participate in this competition",entity_type:"team",required_selection_count:-1,min_selection_count:2,max_selection_count:-1,is_optional:!1,next_step_id:"select_players",error_message_template:"Please select at least 2 teams to continue"},{step_id:"select_players",step_name:"Select Players",step_description:"Choose players for the selected teams (optional)",entity_type:"player",required_selection_count:-1,min_selection_count:0,max_selection_count:-1,is_optional:!0,next_step_id:"select_officials",error_message_template:"You can select any number of players or skip this step"},{step_id:"select_officials",step_name:"Select Officials",step_description:"Choose referees and officials for the competition",entity_type:"official",required_selection_count:-1,min_selection_count:1,max_selection_count:-1,is_optional:!1,next_step_id:"review_setup",error_message_template:"Please select at least 1 official to continue"},{step_id:"review_setup",step_name:"Review Setup",step_description:"Review your selections and complete the setup",entity_type:"",required_selection_count:0,min_selection_count:0,max_selection_count:0,is_optional:!0,error_message_template:"Setup is ready for completion"}];class At{constructor(){this.step_definitions={},this.step_order=[];for(const t of Re)this.step_definitions[t.step_id]=t,this.step_order.push(t.step_id)}create_initial_workflow_state(){const t={};for(const s of Re)t[s.step_id]={step_definition:s,selected_entities:[],is_selection_valid:s.is_optional,validation_error_message:s.is_optional?"":s.error_message_template,is_completed:!1};return{current_step_id:this.step_order[0],step_states:t,completed_step_ids:new Set,workflow_entities:{},can_proceed_to_next_step:!1,can_go_back_to_previous_step:!1}}update_step_selection(t,s,a){if(!this.step_definitions[s])return{success:!1,new_state:t,error_message:`Invalid step ID: ${s}`};const b=this.step_definitions[s],w=t.step_states[s],D=this.validate_selection_count(b,a.length),c={...w,selected_entities:[...a],is_selection_valid:D.is_valid,validation_error_message:D.error_message,is_completed:D.is_valid},i={...t,step_states:{...t.step_states,[s]:c},workflow_entities:{...t.workflow_entities,[b.entity_type]:[...a]}};return i.can_proceed_to_next_step=this.can_proceed_to_next_step_from_current(i),i.can_go_back_to_previous_step=this.can_go_back_to_previous_step_from_current(i),{success:!0,new_state:i}}transition_to_next_step(t){const s=this.step_definitions[t.current_step_id];if(!s.next_step_id)return{success:!1,new_state:t,error_message:"Already at the final step"};const a=t.step_states[t.current_step_id];if(!a.is_selection_valid)return{success:!1,new_state:t,error_message:a.validation_error_message};const b=new Set(t.completed_step_ids);b.add(t.current_step_id);const w={...t,current_step_id:s.next_step_id,completed_step_ids:b};return w.can_proceed_to_next_step=this.can_proceed_to_next_step_from_current(w),w.can_go_back_to_previous_step=this.can_go_back_to_previous_step_from_current(w),{success:!0,new_state:w}}transition_to_previous_step(t){const s=this.step_order.indexOf(t.current_step_id);if(s<=0)return{success:!1,new_state:t,error_message:"Already at the first step"};const a=this.step_order[s-1],b={...t,current_step_id:a};return b.can_proceed_to_next_step=this.can_proceed_to_next_step_from_current(b),b.can_go_back_to_previous_step=this.can_go_back_to_previous_step_from_current(b),{success:!0,new_state:b}}validate_selection_count(t,s){if(t.is_optional&&s===0)return{is_valid:!0,error_message:""};if(s<t.min_selection_count){const a=t.min_selection_count===1?"item":"items";return{is_valid:!1,error_message:`Please select at least ${t.min_selection_count} ${a}`}}if(t.max_selection_count>0&&s>t.max_selection_count){const a=t.max_selection_count===1?"item":"items";return{is_valid:!1,error_message:`Please select no more than ${t.max_selection_count} ${a}`}}if(t.required_selection_count>0&&s!==t.required_selection_count){const a=t.required_selection_count===1?"item":"items";return{is_valid:!1,error_message:`Please select exactly ${t.required_selection_count} ${a}`}}return{is_valid:!0,error_message:""}}can_proceed_to_next_step_from_current(t){const s=t.step_states[t.current_step_id],a=this.step_definitions[t.current_step_id];return s.is_selection_valid&&!!a.next_step_id}can_go_back_to_previous_step_from_current(t){return this.step_order.indexOf(t.current_step_id)>0}get_current_step_definition(t){return this.step_definitions[t.current_step_id]}get_current_step_state(t){return t.step_states[t.current_step_id]}get_workflow_progress_percentage(t){const s=this.step_order.indexOf(t.current_step_id);return Math.round((s+1)/this.step_order.length*100)}is_workflow_complete(t){return t.current_step_id==="review_setup"&&t.step_states.review_setup.is_completed}get_step_order(){return[...this.step_order]}get_all_step_definitions(){return Re.map(t=>({...t}))}}var Dt=h('<div class="mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"><strong>Selection Required:</strong> </div>'),It=h('<p class="text-accent-600 dark:text-accent-400"> </p>'),Mt=h('<div slot="entity-list"><!></div>'),Lt=h('<div slot="entity-form"><!></div>'),Rt=h('<div class="step-content-wrapper svelte-1c5ar0y"><div class="mb-6 text-center"><h2 class="text-xl font-semibold text-accent-900 dark:text-accent-100 mb-2"> </h2> <!></div> <!></div>'),Tt=h('<p class="text-gray-700"> </p>'),Ft=h('<p class="text-gray-700"> </p>'),Nt=h('<p class="text-gray-700"> </p>'),Vt=h('<p class="text-gray-700"> </p>'),Ut=h('<div class="border rounded-lg p-4"><h4 class="font-semibold text-lg mb-2"> </h4> <!></div>'),Yt=h('<p class="text-gray-700"> </p>'),Kt=h(`<div class="review-step-content svelte-1c5ar0y"><div class="text-center mb-8"><h2 class="text-xl font-semibold text-accent-900 dark:text-accent-100 mb-2">Workflow Complete</h2> <p class="text-accent-600 dark:text-accent-400">Review your setup and begin managing your sports organization.</p></div> <div class="card p-6 space-y-6"><h3 class="text-lg font-semibold text-accent-900 dark:text-accent-100">Setup Summary</h3> <div class="space-y-4"><div class="border rounded-lg p-4"><h4 class="font-semibold text-lg mb-2">Selected Organization</h4> <!></div> <div class="border rounded-lg p-4"><h4 class="font-semibold text-lg mb-2">Selected Competition</h4> <!></div> <div class="border rounded-lg p-4"><h4 class="font-semibold text-lg mb-2"> </h4> <!></div> <!> <div class="border rounded-lg p-4"><h4 class="font-semibold text-lg mb-2"> </h4> <!></div></div> <div class="text-center pt-6 border-t border-gray-200 dark:border-gray-700"><p class="text-accent-600 dark:text-accent-400 mb-4">Your sports organization is ready! You can now manage
                competitions, schedule games, and track events.</p> <div class="flex flex-col sm:flex-row gap-4 justify-center"><a href="/" class="btn btn-outline">Go to Dashboard</a> <button class="btn btn-secondary">Complete Setup</button></div></div></div></div>`),Zt=h(`<div class="workflow-page min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 svelte-1c5ar0y"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-8"><h1 class="text-2xl sm:text-3xl font-bold text-accent-900 dark:text-accent-100 mb-2">Sports Management Workflow</h1> <p class="text-accent-600 dark:text-accent-400 max-w-2xl mx-auto">Complete setup for your sports organization by following these guided
        steps. Each step builds upon the previous one to create a comprehensive
        management system.</p></div> <!> <!></div></div>`);function ns(I,t){Ve(t,!1);const s=A(),a=A(),b=A(),w=A(),D=A(),c=A(),i=new At;let _=A(i.create_initial_workflow_state()),Y=A(!0),T=A(),$e=A();_t(()=>{Ee(),console.log("Workflow initialized with state machine")});function Ee(){typeof window<"u"&&j(Y,window.innerWidth<768)}function B(d){const g=d.detail.selected_entities;console.log(`Selection changed: ${g.length} entities selected for step ${e(s).step_id}`);const W=i.update_step_selection(e(_),e(s).step_id,g);W.success?(j(_,W.new_state),console.log(`Step ${e(s).step_id} validation: ${e(a).is_selection_valid?"VALID":"INVALID"}`),e(a).is_selection_valid||console.log(`Validation error: ${e(a).validation_error_message}`)):console.error(`Failed to update selection: ${W.error_message}`)}function Pe(d){if(console.log(`Step navigation requested: ${d.detail.previous_index} -> ${d.detail.new_index}`),d.detail.new_index>d.detail.previous_index){const g=i.transition_to_next_step(e(_));g.success?(j(_,g.new_state),console.log(`Advanced to step: ${e(s).step_id}`)):console.error(`Cannot advance to next step: ${g.error_message}`)}else{const g=i.transition_to_previous_step(e(_));g.success?(j(_,g.new_state),console.log(`Moved back to step: ${e(s).step_id}`)):console.error(`Cannot go back: ${g.error_message}`)}}function je(d){console.log(`Step completion event: ${e(s).step_id}`)}function pe(d){console.log("Workflow completed successfully"),e(w)&&console.log("All workflow selections:",e(_).workflow_entities)}function Se(){console.log("Workflow cancelled")}function ze(d){console.log(`Entity created: ${d.detail.entity.id} for ${e(s).entity_type}`);const g=[...e(a).selected_entities,d.detail.entity];B({detail:{selected_entities:g}})}function qe(d){console.log(`Entity updated: ${d.detail.entity.id}`);const g=e(a).selected_entities.map(W=>W.id===d.detail.entity.id?d.detail.entity:W);B({detail:{selected_entities:g}})}function Ae(d){console.log(`Entity deleted: ${d.detail.entity.id}`);const g=e(a).selected_entities.filter(W=>W.id!==d.detail.entity.id);B({detail:{selected_entities:g}})}function De(d){const g=d.detail.entities.map(te=>te.id);console.log(`Multiple entities deleted: ${g.length} items`);const W=e(a).selected_entities.filter(te=>!g.includes(te.id));B({detail:{selected_entities:W}})}function le(){return e(s).entity_type!==""}U(()=>e(_),()=>{j(s,i.get_current_step_definition(e(_)))}),U(()=>e(_),()=>{j(a,i.get_current_step_state(e(_)))}),U(()=>e(_),()=>{j(b,i.get_workflow_progress_percentage(e(_)))}),U(()=>e(_),()=>{j(w,i.is_workflow_complete(e(_)))}),U(()=>e(_),()=>{j(D,i.get_all_step_definitions().map((d,g)=>({step_key:d.step_id,step_title:d.step_name,step_description:d.step_description,is_completed:e(_).completed_step_ids.has(d.step_id),is_optional:d.is_optional,entity_type:d.entity_type})))}),U(()=>e(_),()=>{j(c,i.get_step_order().indexOf(e(_).current_step_id))}),Ue(),Ze();var ue=Zt();ct(d=>{lt.title="Workflow Wizard - Sports Management"});var ve=n(ue),me=v(n(ve),2);{var fe=d=>{var g=Dt(),W=v(n(g));r(g),C(()=>z(W,` ${e(a),l(()=>e(a).validation_error_message)??""}`)),y(d,g)};V(me,d=>{e(a),l(()=>!e(a).is_selection_valid&&e(a).validation_error_message)&&d(fe)})}var ge=v(me,2);Fe(jt(ge,{get wizard_steps(){return e(D)},get current_step_index(){return e(c)},get is_mobile_view(){return e(Y)},allow_skip_steps:!1,$$events:{step_changed:Pe,step_completed:je,wizard_completed:pe,wizard_cancelled:Se},children:dt,$$slots:{default:(d,g)=>{var W=pt(),te=Ke(W);{var Ce=Z=>{var G=Rt(),H=n(G),J=n(H),se=n(J,!0);r(J);var xe=v(J,2);{var X=M=>{var E=It(),L=n(E,!0);r(E),C(()=>z(L,(e(s),l(()=>e(s).step_description)))),y(M,E)};V(xe,M=>{e(s),l(()=>e(s).step_description)&&M(X)})}r(H);var ye=v(H,2);xt(ye,()=>(e(s),l(()=>e(s).step_id)),M=>{Fe(mt(M,{get entity_type(){return e(s),l(()=>e(s).entity_type)},initial_view:"list",get is_mobile_view(){return e(Y)},show_list_actions:!0,$$events:{entity_created:ze,entity_updated:qe,entity_deleted:Ae,entities_deleted:De,selection_changed:B},$$slots:{"entity-list":(E,L)=>{var R=Mt();const K=de(()=>L.entities),ie=de(()=>L.loading),Q=de(()=>L.error);var re=n(R);{let o=de(()=>(e(a),l(()=>e(a).selected_entities.map(p=>p.id))));gt(re,{get entity_type(){return e(s),l(()=>e(s).entity_type)},get entities(){return e(K)},get loading(){return e(ie)},get error(){return e(Q)},get allow_multiple_selection(){return e(s),l(()=>e(s).allow_multiple_selection)},get selected_entity_ids(){return e(o)},get is_mobile_view(){return e(Y)},$$events:{entity_selection_changed:B}})}r(R),y(E,R)},"entity-form":(E,L)=>{var R=Lt();const K=de(()=>L.form_mode),ie=de(()=>L.selected_entity);var Q=n(R);ft(Q,{get entity_type(){return e(s),l(()=>e(s).entity_type)},get form_mode(){return e(K)},get selected_entity(){return e(ie)}}),r(R),y(E,R)}},$$legacy:!0}),E=>j($e,E),()=>e($e))}),r(G),C(()=>z(se,(e(s),l(()=>e(s).step_title)))),y(Z,G)},Ie=Z=>{var G=Kt(),H=v(n(G),2),J=v(n(H),2),se=n(J),xe=v(n(se),2);_e(xe,1,()=>(e(_),l(()=>e(_).workflow_entities.organizations)),ce,(f,u)=>{var x=Tt(),$=n(x,!0);r(x),C(()=>z($,(e(u),l(()=>{var O;return((O=e(u).attributes)==null?void 0:O.name)||e(u).id})))),y(f,x)}),r(se);var X=v(se,2),ye=v(n(X),2);_e(ye,1,()=>(e(_),l(()=>e(_).workflow_entities.competitions)),ce,(f,u)=>{var x=Ft(),$=n(x,!0);r(x),C(()=>z($,(e(u),l(()=>{var O;return((O=e(u).attributes)==null?void 0:O.name)||e(u).id})))),y(f,x)}),r(X);var M=v(X,2),E=n(M),L=n(E);r(E);var R=v(E,2);_e(R,1,()=>(e(_),l(()=>e(_).workflow_entities.teams)),ce,(f,u)=>{var x=Nt(),$=n(x);r(x),C(()=>z($,`• ${e(u),l(()=>{var O;return((O=e(u).attributes)==null?void 0:O.name)||e(u).id})??""}`)),y(f,x)}),r(M);var K=v(M,2);{var ie=f=>{var u=Ut(),x=n(u),$=n(x);r(x);var O=v(x,2);_e(O,1,()=>(e(_),l(()=>e(_).workflow_entities.players)),ce,(ae,F)=>{var N=Vt(),S=n(N);r(N),C(()=>z(S,`• ${e(F),l(()=>{var m;return((m=e(F).attributes)==null?void 0:m.name)||e(F).id})??""}`)),y(ae,N)}),r(u),C(()=>z($,`Selected Players (${e(_),l(()=>e(_).workflow_entities.players.length)??""})`)),y(f,u)};V(K,f=>{e(_),l(()=>e(_).workflow_entities.players.length>0)&&f(ie)})}var Q=v(K,2),re=n(Q),o=n(re);r(re);var p=v(re,2);_e(p,1,()=>(e(_),l(()=>e(_).workflow_entities.officials)),ce,(f,u)=>{var x=Yt(),$=n(x);r(x),C(()=>z($,`• ${e(u),l(()=>{var O;return((O=e(u).attributes)==null?void 0:O.name)||e(u).id})??""}`)),y(f,x)}),r(Q),r(J);var k=v(J,2),ne=v(n(k),2),oe=v(n(ne),2);r(ne),r(k),r(H),r(G),C(()=>{z(L,`Selected Teams (${e(_),l(()=>e(_).workflow_entities.teams.length)??""})`),z(o,`Selected Officials (${e(_),l(()=>e(_).workflow_entities.officials.length)??""})`)}),ee("click",oe,()=>{var f;return(f=e(T))==null?void 0:f.complete_current_step()}),y(Z,G)};V(te,Z=>{l(le)?Z(Ce):Z(Ie,!1)})}y(d,W)}},$$legacy:!0}),d=>j(T,d),()=>e(T)),r(ve),r(ue),y(I,ue),Ye()}export{ns as component};
